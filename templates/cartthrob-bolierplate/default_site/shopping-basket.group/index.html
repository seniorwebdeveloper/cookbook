{embed="global_embeds/document_head"}

<body>

<div id="page">

{embed="global_embeds/header"}

<h2>Shopping Basket Contents</h2>

{exp:cartthrob:cart_items_info}

{if no_results}
<p>There is nothing in your cart</p>
{/if}

{!-- outputting content that's only applicable for the first item. --}

{if first_row}

{!-- adding an update_cart_form to the first row. --}

{exp:cartthrob:update_cart_form return="shopping-basket"}

<table>
<thead>
<tr>
<td>Item</td>
<td colspan="2">Quantity</td>
</tr>
</thead>
<tbody>
{/if}
<tr>
<td>{title}</td>
<td>
{!-- you can reference products by entry_id and row_id. If you sell configurable 
items (like t-shirts with multiple sizes) you should use row_id to edit and 
delete items, otherwise, all items with that entry id
are affected, regardless of configuration --}
<input type="text" name="quantity[{row_id}]" size="2" value="{quantity}" />
</td>
<td>
{!-- This deletes one item (row_id) at a time--}
<input type="checkbox" name="delete[{row_id}]"> Delete this item
</td>
</tr>
{if last_row}
{!-- outputting content that's only applicable for the last item. --}
<tr>
<td>
{!-- these are just some of the variables available within the cart_items_info tag --}
<p>
Subtotal: {cart_subtotal}<br />
Shipping: {cart_shipping}<br />
Tax: {cart_tax}<br />
Shipping Option: {shipping_option}<br />
Tax Name: {cart_tax_name}<br />
Tax %: {cart_tax_rate}<br />
<strong>Total: {cart_total}</strong>
</p>

<p>
{!-- total quantity of all items in cart --}
Total Items: {exp:cartthrob:total_items_count}<br />
{!-- total items in cart --}
Total Unique Items: {exp:cartthrob:unique_items_count}
</p>
</td>
<td colspan="2">&nbsp;</td>
</tr>
</tbody>
</table>
<input type="submit" value="Update Cart" />
{/exp:cartthrob:update_cart_form}
{/if}

{/exp:cartthrob:cart_items_info}

<a href="{site_url}index.php/checkout">Checkout</a>

</div><!--END #page-->

</body>
</html>
